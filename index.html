<!DOCTYPE html>
<html lang="ta">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>Learn Tamil | Premium Edition</title>
    <link rel="icon" type="image/svg+xml" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><rect width='100' height='100' rx='22' fill='%23007AFF'/><circle cx='50' cy='50' r='20' fill='white'/></svg>">
    
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;700;900&display=swap');

        :root {
            --ios-bg: #F2F2F7;
            --nike-black: #111111;
            --apple-blue: #007AFF;
            --success-green: #34C759;
            --card-shadow: 0 20px 40px rgba(0,0,0,0.08);
            --radius: 32px;
        }

        * { box-sizing: border-box; -webkit-tap-highlight-color: transparent; }

        body {
            font-family: 'Inter', -apple-system, sans-serif;
            margin: 0;
            background-color: var(--ios-bg);
            color: var(--nike-black);
            height: 100vh;
            display: flex;
            flex-direction: column;
            overflow: hidden;
        }

        /* Parental Gate Overlay */
        #parental-gate {
            display: none;
            position: fixed;
            inset: 0;
            background: rgba(255, 255, 255, 0.8);
            backdrop-filter: blur(20px);
            -webkit-backdrop-filter: blur(20px);
            z-index: 2000;
            justify-content: center;
            align-items: center;
            flex-direction: column;
            text-align: center;
            padding: 40px;
        }

        .gate-btn {
            background: var(--apple-blue);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 15px;
            font-size: 1.2rem;
            font-weight: 700;
            margin: 10px;
        }

        /* Screens */
        .screen {
            display: none;
            flex-direction: column;
            align-items: center;
            width: 100%;
            height: 100%;
            padding: 20px;
            animation: fadeIn 0.4s ease-out;
        }
        .active { display: flex; }

        @keyframes fadeIn { from { opacity: 0; transform: translateY(10px); } to { opacity: 1; transform: translateY(0); } }

        h1 { font-weight: 900; font-size: 2.5rem; letter-spacing: -1px; margin-bottom: 5px; text-transform: uppercase; }
        p { color: #8E8E93; font-weight: 500; margin-top: 0; }

        .category-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 16px;
            width: 100%;
            max-width: 500px;
            margin-top: 20px;
        }

        .cat-card {
            background: white;
            padding: 30px 20px;
            border-radius: var(--radius);
            box-shadow: var(--card-shadow);
            text-align: center;
            font-weight: 700;
            cursor: pointer;
            transition: transform 0.2s;
        }
        .cat-card:active { transform: scale(0.92); }

        .main-card {
            background: white;
            width: 100%;
            max-width: 450px;
            border-radius: var(--radius);
            overflow: hidden;
            box-shadow: var(--card-shadow);
            flex: 1;
            display: flex;
            flex-direction: column;
            margin-bottom: 100px;
        }

        .img-container { width: 100%; height: 55%; overflow: hidden; }
        .main-img { width: 100%; height: 100%; object-fit: cover; }

        .content {
            padding: 20px;
            text-align: center;
            display: flex;
            flex-direction: column;
            justify-content: space-around;
            flex-grow: 1;
        }

        .tam-txt { font-size: 2.8rem; font-weight: 900; margin: 10px 0; }

        .play-bar {
            background: var(--success-green);
            color: white;
            padding: 20px;
            border-radius: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 15px;
            font-size: 1.4rem;
            font-weight: 800;
            cursor: pointer;
        }

        .next-btn {
            position: fixed;
            bottom: 30px;
            left: 50%;
            transform: translateX(-50%);
            background: var(--nike-black);
            color: white;
            padding: 20px 60px;
            border-radius: 50px;
            font-size: 1.2rem;
            font-weight: 800;
            width: 90%;
            max-width: 400px;
            border: none;
        }

        .nav-header { width: 100%; display: flex; justify-content: space-between; align-items: center; padding: 10px 0; }
        .home-icon { background: white; width: 44px; height: 44px; border-radius: 12px; display: flex; align-items: center; justify-content: center; box-shadow: 0 4px 10px rgba(0,0,0,0.05); cursor: pointer; }

        .progress-dots { display: flex; gap: 6px; }
        .dot { width: 8px; height: 8px; border-radius: 50%; background: #D1D1D6; }
        .dot.active { background: var(--apple-blue); width: 20px; border-radius: 10px; }

        #celebration { display: none; position: fixed; inset: 0; background: white; z-index: 1000; justify-content: center; align-items: center; flex-direction: column; }
    </style>
</head>
<body>

    <div id="parental-gate">
        <h2>Parental Check</h2>
        <p id="gate-question"></p>
        <div id="gate-options"></div>
        <button class="gate-btn" style="background: #8E8E93;" onclick="closeGate()">Cancel</button>
    </div>

    <div id="home-screen" class="screen active">
        <div style="text-align: left; width: 100%; max-width: 500px; margin-top: 40px;">
            <p>LEARN TAMIL</p>
            <h1>Pick your<br>Category</h1>
        </div>
        <div class="category-grid">
            <div class="cat-card" onclick="startApp('fruits')">üçé<br>Fruits</div>
            <div class="cat-card" onclick="startApp('animals')">ü¶Å<br>Animals</div>
            <div class="cat-card" onclick="startApp('colors')">üé®<br>Colors</div>
            <div class="cat-card" onclick="startApp('vehicles')">üöÄ<br>Vehicles</div>
        </div>
    </div>

    <div id="app-screen" class="screen">
        <div class="nav-header">
            <div class="home-icon" onclick="openGate()">üè†</div>
            <div class="progress-dots" id="dots"></div>
            <div style="width: 44px;"></div>
        </div>
        <div class="main-card">
            <div class="img-container"><img id="main-img" src="" class="main-img"></div>
            <div class="content">
                <div class="eng-txt" id="eng-txt"></div>
                <div class="tam-txt" id="tam-txt"></div>
                <div class="play-bar" id="play-btn" onclick="toggleVoice()">
                    <span id="p-icon">‚ñ∂</span> <span id="p-label">LISTEN</span>
                </div>
            </div>
        </div>
        <button class="next-btn" onclick="nextWord()">CONTINUE</button>
    </div>

    <div id="celebration">
        <h1 style="font-size: 4rem;">üèÜ</h1>
        <h1>Excellent!</h1>
        <button class="next-btn" style="position: static;" onclick="location.reload()">PLAY AGAIN</button>
    </div>

    <script>
        const synth = window.speechSynthesis;
        const data = {
            fruits: [
                {e:"Apple", t:"‡ÆÜ‡Æ™‡Øç‡Æ™‡Æø‡Æ≥‡Øç", i:"https://images.unsplash.com/photo-1560806887-1e4cd0b6bccb?w=600"},
                {e:"Mango", t:"‡ÆÆ‡Ææ‡ÆÆ‡Øç‡Æ™‡Æ¥‡ÆÆ‡Øç", i:"https://images.unsplash.com/photo-1553279768-865429fa0078?w=600"},
                {e:"Banana", t:"‡Æµ‡Ææ‡Æ¥‡Øà‡Æ™‡Øç‡Æ™‡Æ¥‡ÆÆ‡Øç", i:"https://images.unsplash.com/photo-1571771894821-ad990241274d?w=600"},
                {e:"Grapes", t:"‡Æ§‡Æø‡Æ∞‡Ææ‡Æü‡Øç‡Æö‡Øà", i:"https://images.unsplash.com/photo-1537640538966-79f369143f8f?w=600"},
                {e:"Orange", t:"‡ÆÜ‡Æ∞‡Æû‡Øç‡Æö‡ØÅ", i:"https://images.unsplash.com/photo-1582979512210-99b6a53386f9?w=600"},
                {e:"Pineapple", t:"‡ÆÖ‡Æ©‡Øç‡Æ©‡Ææ‡Æö‡Æø", i:"https://images.unsplash.com/photo-1550258114-68bd299738ad?w=600"},
                {e:"Watermelon", t:"‡Æ§‡Æ∞‡Øç‡Æ™‡ØÇ‡Æö‡Æ£‡Æø", i:"https://images.unsplash.com/photo-1587049352846-4a222e784d38?w=600"},
                {e:"Papaya", t:"‡Æ™‡Æ™‡Øç‡Æ™‡Ææ‡Æ≥‡Æø", i:"https://images.unsplash.com/photo-1526318896980-cf78c088247c?w=600"},
                {e:"Pomegranate", t:"‡ÆÆ‡Ææ‡Æ§‡ØÅ‡Æ≥‡Øà", i:"https://images.unsplash.com/photo-1615484477778-ca3b77940c25?w=600"},
                {e:"Guava", t:"‡Æï‡Øä‡ÆØ‡Øç‡ÆØ‡Ææ", i:"https://images.unsplash.com/photo-1536511132770-e51086659795?w=600"}
            ],
            animals: [
                {e:"Lion", t:"‡Æö‡Æø‡Æô‡Øç‡Æï‡ÆÆ‡Øç", i:"https://images.unsplash.com/photo-1546182990-dffeafbe841d?w=600"},
                {e:"Elephant", t:"‡ÆØ‡Ææ‡Æ©‡Øà", i:"https://images.unsplash.com/photo-1557050543-4d5f4e07ef46?w=600"},
                {e:"Tiger", t:"‡Æ™‡ØÅ‡Æ≤‡Æø", i:"https://images.unsplash.com/photo-1508817628294-5a453fa0b8fb?w=600"},
                {e:"Cow", t:"‡Æ™‡Æö‡ØÅ", i:"https://images.unsplash.com/photo-1546445317-29f4545e9d53?w=600"},
                {e:"Dog", t:"‡Æ®‡Ææ‡ÆØ‡Øç", i:"https://images.unsplash.com/photo-1517849845537-4d257902454a?w=600"},
                {e:"Cat", t:"‡Æ™‡ØÇ‡Æ©‡Øà", i:"https://images.unsplash.com/photo-1514888286974-6c03e2ca1dba?w=600"},
                {e:"Horse", t:"‡Æï‡ØÅ‡Æ§‡Æø‡Æ∞‡Øà", i:"https://images.unsplash.com/photo-1553284965-83fd3e82fa5a?w=600"},
                {e:"Monkey", t:"‡Æï‡ØÅ‡Æ∞‡Æô‡Øç‡Æï‡ØÅ", i:"https://images.unsplash.com/photo-1540573133985-87b6da6d54a9?w=600"},
                {e:"Rabbit", t:"‡ÆÆ‡ØÅ‡ÆØ‡Æ≤‡Øç", i:"https://images.unsplash.com/photo-1585110396000-c9ffd4e4b308?w=600"},
                {e:"Deer", t:"‡ÆÆ‡Ææ‡Æ©‡Øç", i:"https://images.unsplash.com/photo-1484406566174-9da000fd267c?w=600"}
            ],
            colors: [
                {e:"Red", t:"‡Æö‡Æø‡Æµ‡Æ™‡Øç‡Æ™‡ØÅ", i:"https://images.unsplash.com/photo-1532007271951-c487760934ae?w=600"},
                {e:"Blue", t:"‡Æ®‡ØÄ‡Æ≤‡ÆÆ‡Øç", i:"https://images.unsplash.com/photo-1542385151-efd9000785a0?w=600"},
                {e:"Green", t:"‡Æ™‡Æö‡Øç‡Æö‡Øà", i:"https://images.unsplash.com/photo-1543163367-c61234959b92?w=600"},
                {e:"Yellow", t:"‡ÆÆ‡Æû‡Øç‡Æö‡Æ≥‡Øç", i:"https://images.unsplash.com/photo-1564344756631-417321f7c9d7?w=600"},
                {e:"White", t:"‡Æµ‡ØÜ‡Æ≥‡Øç‡Æ≥‡Øà", i:"https://images.unsplash.com/photo-1464306311913-e074e402802d?w=600"},
                {e:"Black", t:"‡Æï‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ", i:"https://images.unsplash.com/photo-1478760329108-5c3ed9d495a0?w=600"},
                {e:"Pink", t:"‡Æá‡Æ≥‡ÆÆ‡Øç ‡Æö‡Æø‡Æµ‡Æ™‡Øç‡Æ™‡ØÅ", i:"https://images.unsplash.com/photo-1518131331773-4475459359a3?w=600"},
                {e:"Purple", t:"‡Æä‡Æ§‡Ææ", i:"https://images.unsplash.com/photo-1528459105426-b923161e389b?w=600"},
                {e:"Orange", t:"‡ÆÜ‡Æ∞‡Æû‡Øç‡Æö‡ØÅ", i:"https://images.unsplash.com/photo-1512411963231-893ec52882a1?w=600"},
                {e:"Brown", t:"‡Æ™‡Æ¥‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ", i:"https://images.unsplash.com/photo-1550684848-fac1c5b4e853?w=600"}
            ],
            vehicles: [
                {e:"Car", t:"‡Æï‡Ææ‡Æ∞‡Øç", i:"https://images.unsplash.com/photo-1494976388531-d1058494cdd8?w=600"},
                {e:"Bus", t:"‡Æ™‡Øá‡Æ∞‡ØÅ‡Æ®‡Øç‡Æ§‡ØÅ", i:"https://images.unsplash.com/photo-1544620347-c4fd4a3d5957?w=600"},
                {e:"Train", t:"‡Æá‡Æ∞‡ÆØ‡Æø‡Æ≤‡Øç", i:"https://images.unsplash.com/photo-1474487548417-781cb71495f3?w=600"},
                {e:"Aeroplane", t:"‡Æµ‡Æø‡ÆÆ‡Ææ‡Æ©‡ÆÆ‡Øç", i:"https://images.unsplash.com/photo-1436491865332-7a61a109c7d3?w=600"},
                {e:"Bicycle", t:"‡ÆÆ‡Æø‡Æ§‡Æø‡Æµ‡Æ£‡Øç‡Æü‡Æø", i:"https://images.unsplash.com/photo-1485965120184-e220f721d03e?w=600"},
                {e:"Ship", t:"‡Æï‡Æ™‡Øç‡Æ™‡Æ≤‡Øç", i:"https://images.unsplash.com/photo-1544161513-0179fe746fd5?w=600"},
                {e:"Tractor", t:"‡Æü‡Æø‡Æ∞‡Ææ‡Æï‡Øç‡Æü‡Æ∞‡Øç", i:"https://images.unsplash.com/photo-1530268577103-604719266399?w=600"},
                {e:"Ambulance", t:"‡ÆÜ‡ÆÆ‡Øç‡Æ™‡ØÅ‡Æ≤‡Æ©‡Øç‡Æ∏‡Øç", i:"https://images.unsplash.com/photo-1516733725897-1aa73b87c8e8?w=600"},
                {e:"Helicopter", t:"‡Æπ‡ØÜ‡Æ≤‡Æø‡Æï‡Ææ‡Æ™‡Øç‡Æü‡Æ∞‡Øç", i:"https://images.unsplash.com/photo-1559063264-7f15be0a05a0?w=600"},
                {e:"Auto", t:"‡ÆÜ‡Æü‡Øç‡Æü‡Øã", i:"https://images.unsplash.com/photo-1561113054-d6f7f2b1c8a1?w=600"}
            ]
        };

        let currentSet = [];
        let index = 0;

        function openGate() {
            const num1 = Math.floor(Math.random() * 5) + 1;
            const num2 = Math.floor(Math.random() * 5) + 1;
            const correct = num1 + num2;
            document.getElementById('gate-question').innerText = `What is ${num1} + ${num2}?`;
            const options = document.getElementById('gate-options');
            options.innerHTML = '';
            
            [correct, correct + 1, correct - 1].sort(() => Math.random() - 0.5).forEach(opt => {
                const b = document.createElement('button');
                b.className = 'gate-btn';
                b.innerText = opt;
                b.onclick = () => opt === correct ? location.reload() : alert('Try again, Parent!');
                options.appendChild(b);
            });
            document.getElementById('parental-gate').style.display = 'flex';
        }

        function closeGate() { document.getElementById('parental-gate').style.display = 'none'; }

        function startApp(cat) {
            currentSet = data[cat];
            index = 0;
            document.getElementById('home-screen').classList.remove('active');
            document.getElementById('app-screen').classList.add('active');
            const dots = document.getElementById('dots');
            dots.innerHTML = '';
            currentSet.forEach(() => {
                const d = document.createElement('div');
                d.className = 'dot';
                dots.appendChild(d);
            });
            updateCard();
        }

        function updateCard() {
            const item = currentSet[index];
            document.getElementById('main-img').src = item.i;
            document.getElementById('eng-txt').innerText = item.e;
            document.getElementById('tam-txt').innerText = item.t;
            const dots = document.querySelectorAll('.dot');
            dots.forEach((d, i) => d.className = i === index ? 'dot active' : 'dot');
            resetBtn();
        }

        function toggleVoice() {
            if(synth.speaking) {
                synth.cancel();
                resetBtn();
            } else {
                const utterance = new SpeechSynthesisUtterance(currentSet[index].t);
                const voices = synth.getVoices();
                const tamilVoice = voices.find(v => v.lang.includes('ta'));
                if(tamilVoice) utterance.voice = tamilVoice;
                utterance.lang = 'ta-IN';
                utterance.onstart = () => {
                    document.getElementById('p-icon').innerText = "‚è∏";
                    document.getElementById('p-label').innerText = "PAUSE";
                };
                utterance.onend = resetBtn;
                synth.speak(utterance);
            }
        }

        function resetBtn() {
            document.getElementById('p-icon').innerText = "‚ñ∂";
            document.getElementById('p-label').innerText = "LISTEN";
        }

        function nextWord() {
            if(index < currentSet.length - 1) {
                index++;
                updateCard();
            } else {
                document.getElementById('celebration').style.display = 'flex';
            }
        }
    </script>
</body>
</html>
